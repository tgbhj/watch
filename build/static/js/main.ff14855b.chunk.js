(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{181:function(e,t,a){e.exports=a(380)},217:function(e,t){},367:function(e,t,a){},380:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(6),o=a(384),i=a(385),c=a(386),s=(a(186),a(179)),m=(a(381),a(103)),d=(a(195),a(102)),u=(a(197),a(139)),p=(a(53),a(20)),h=(a(199),a(68)),f=(a(200),a(45)),E=(a(382),a(104)),b=(a(203),a(52)),y=(a(107),a(10)),g=a(132),v=a.n(g),w=a(167),x=a(58),S=a(59),k=a(64),j=a(60),F=a(65),O=a(23),V=(a(233),a(234),a(49)),C=a.n(V),D=(a(78),a(66)),T=(a(150),a(98)),A=(a(151),a(43)),B=A.a.Item;var I=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(k.a)(this,Object(j.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||C.a.post("/api/add",{name:a.props.form.getFieldValue("name"),code:a.props.form.getFieldValue("code")}).then(function(e){2e4===e.data.code?a.props.handleAdd(e.data.cb):T.a.error({message:"\u6dfb\u52a0\u5931\u8d25",description:"",duration:2})}).catch(function(e){console.log(e)})})},a}return Object(F.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return l.a.createElement(A.a,{onSubmit:this.handleSubmit},l.a.createElement(B,null,this.props.form.getFieldDecorator("name",{rules:[{min:1,max:18,message:"\u957f\u5ea6\u57281\u523018\u4e2a\u5b57\u7b26"},{required:!0,message:"\u8bf7\u8f93\u5165\u673a\u4f4d\u540d"}]})(l.a.createElement(D.a,{prefix:l.a.createElement(y.a,{type:"video-camera"}),placeholder:"\u673a\u4f4d\u540d"}))),l.a.createElement(B,null,this.props.form.getFieldDecorator("code",{rules:[{min:1,max:18,message:"\u957f\u5ea6\u57281\u523018\u4e2a\u5b57\u7b26"},{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u4e32\u6d41\u7801"},{pattern:"[A-Za-z0-9]",message:"\u53ea\u80fd\u8f93\u5165\u6570\u5b57\uff0c\u82f1\u6587\u5b57\u6bcd\u548c\u4e0b\u5212\u7ebf"}]})(l.a.createElement(D.a,{prefix:l.a.createElement(y.a,{type:"code"}),placeholder:"\u4e32\u6d41\u7801"}))),l.a.createElement(B,null,l.a.createElement(p.a,{type:"primary",block:!0,htmlType:"submit",disabled:(e=this.props.form.getFieldsError(),Object.keys(e).some(function(t){return e[t]}))},"\u6dfb\u52a0")));var e}}]),t}(l.a.Component),N=A.a.create()(I),z=A.a.Item;var P=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(k.a)(this,Object(j.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||C.a.post("/api/edit",{id:a.props.data,name:a.props.form.getFieldValue("name"),code:a.props.form.getFieldValue("code")}).then(function(e){2e4===e.data.code?a.props.handleEdit(e.data.cb):T.a.error({message:"\u4fee\u6539\u5931\u8d25",description:"",duration:2})}).catch(function(e){console.log(e)})})},a}return Object(F.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return l.a.createElement(A.a,{onSubmit:this.handleSubmit},l.a.createElement(z,null,this.props.form.getFieldDecorator("name",{rules:[{min:1,max:18,message:"\u957f\u5ea6\u57281\u523018\u4e2a\u5b57\u7b26"},{required:!0,message:"\u8bf7\u8f93\u5165\u673a\u4f4d\u540d"}]})(l.a.createElement(D.a,{prefix:l.a.createElement(y.a,{type:"video-camera"}),placeholder:"\u673a\u4f4d\u540d"}))),l.a.createElement(z,null,this.props.form.getFieldDecorator("code",{rules:[{min:1,max:18,message:"\u957f\u5ea6\u57281\u523018\u4e2a\u5b57\u7b26"},{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u4e32\u6d41\u7801"},{pattern:"[A-Za-z0-9]",message:"\u53ea\u80fd\u8f93\u5165\u6570\u5b57\uff0c\u82f1\u6587\u5b57\u6bcd\u548c\u4e0b\u5212\u7ebf"}]})(l.a.createElement(D.a,{prefix:l.a.createElement(y.a,{type:"code"}),placeholder:"\u4e32\u6d41\u7801"}))),l.a.createElement(z,null,l.a.createElement(p.a,{type:"primary",block:!0,htmlType:"submit",disabled:(e=this.props.form.getFieldsError(),Object.keys(e).some(function(t){return e[t]}))},"\u4fee\u6539")));var e}}]),t}(l.a.Component),R=A.a.create()(P),q=(a(367),function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(k.a)(this,Object(j.a)(t).call(this,e))).showDrawer=function(){a.setState({drawerVisible:!0})},a.onClose=function(){a.setState({drawerVisible:!1})},a.handleSwitch=function(e){var t=Object(O.a)("player");t.src([e.rtmp,e.hls]),t.load(),a.setState({now:e})},a.handleAdd=function(e){var t=a.state.all;t.push(e),a.setState({all:t}),a.setState({addVisible:!1})},a.handleEdit=function(e){a.setState({all:e}),a.setState({editVisible:!1})},a.handleDel=function(e){C.a.post("/api/del",{id:e}).then(function(e){a.setState({all:e.data.cb})}).catch(function(e){console.log(e)})},a.state={all:[],one:{},addVisible:!1,editVisible:!1,drawerVisible:!1,now:{}},a}return Object(F.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(v.a.mark(function e(){var t=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("/api/getDate").then(function(e){t.setState({all:e.data.all}),t.setState({one:e.data.one}),t.setState({now:e.data.one})}).catch(function(e){console.log(e)});case 2:new O.a("player",{muted:!1,flash:{swf:"video-js.swf"},techOrder:["flash","html5"],autoplay:!0,controls:!0,controlBar:{captionsButton:!1,chaptersButton:!1,playbackRateMenuButton:!1,LiveDisplay:!1,subtitlesButton:!1,remainingTimeDisplay:!1,progressControl:!1,fullscreenToggle:!0},languages:{zh:{Play:"\u64ad\u653e",Pause:"\u6682\u505c","Current Time":"\u5f53\u524d\u65f6\u95f4",Duration:"\u65f6\u957f","Remaining Time":"\u5269\u4f59\u65f6\u95f4","Stream Type":"\u5a92\u4f53\u6d41\u7c7b\u578b",LIVE:"\u76f4\u64ad",Loaded:"\u52a0\u8f7d\u5b8c\u6bd5",Progress:"\u8fdb\u5ea6",Fullscreen:"\u5168\u5c4f","Non-Fullscreen":"\u9000\u51fa\u5168\u5c4f",Mute:"\u9759\u97f3",Unmute:"\u53d6\u6d88\u9759\u97f3","Audio Track":"\u97f3\u8f68","You aborted the media playback":"\u89c6\u9891\u64ad\u653e\u88ab\u7ec8\u6b62","A network error caused the media download to fail part-way.":"\u7f51\u7edc\u9519\u8bef\u5bfc\u81f4\u89c6\u9891\u4e0b\u8f7d\u4e2d\u9014\u5931\u8d25\u3002","The media could not be loaded, either because the server or network failed or because the format is not supported.":"\u89c6\u9891\u56e0\u683c\u5f0f\u4e0d\u652f\u6301\u6216\u8005\u670d\u52a1\u5668\u6216\u7f51\u7edc\u7684\u95ee\u9898\u65e0\u6cd5\u52a0\u8f7d\u3002","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"\u7531\u4e8e\u89c6\u9891\u6587\u4ef6\u635f\u574f\u6216\u662f\u8be5\u89c6\u9891\u4f7f\u7528\u4e86\u4f60\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u7684\u529f\u80fd\uff0c\u64ad\u653e\u7ec8\u6b62\u3002","No compatible source was found for this media.":"\u65e0\u6cd5\u627e\u5230\u6b64\u89c6\u9891\u517c\u5bb9\u7684\u6e90\u3002","The media is encrypted and we do not have the keys to decrypt it.":"\u89c6\u9891\u5df2\u52a0\u5bc6\uff0c\u65e0\u6cd5\u89e3\u5bc6\u3002","Play Video":"\u64ad\u653e\u89c6\u9891",Close:"\u5173\u95ed","Audio Player":"\u97f3\u9891\u64ad\u653e\u5668","Video Player":"\u89c6\u9891\u64ad\u653e\u5668",Replay:"\u91cd\u64ad","Progress Bar":"\u8fdb\u5ea6\u5c0f\u8282","Volume Level":"\u97f3\u91cf",Text:"\u6587\u5b57",White:"\u767d",Black:"\u9ed1",Red:"\u7ea2",Green:"\u7eff",Blue:"\u84dd",Yellow:"\u9ec4",Magenta:"\u7d2b\u7ea2",Cyan:"\u9752",Background:"\u80cc\u666f",Window:"\u89c6\u7a97",Transparent:"\u900f\u660e","Semi-Transparent":"\u534a\u900f\u660e",Opaque:"\u4e0d\u900f\u660e","Font Size":"\u5b57\u4f53\u5c3a\u5bf8","Text Edge Style":"\u5b57\u4f53\u8fb9\u7f18\u6837\u5f0f",None:"\u65e0",Raised:"\u6d6e\u96d5",Depressed:"\u538b\u4f4e",Uniform:"\u5747\u5300",Dropshadow:"\u4e0b\u9634\u5f71","Font Family":"\u5b57\u4f53\u5e93",Casual:"\u8212\u9002",Script:"\u624b\u5199\u4f53","Small Caps":"\u5c0f\u578b\u5927\u5199\u5b57\u4f53",Reset:"\u91cd\u542f","restore all settings to the default values":"\u6062\u590d\u5168\u90e8\u8bbe\u5b9a\u81f3\u9884\u8bbe\u503c",Done:"\u5b8c\u6210"}},fluid:!0,sources:[{src:this.state.one.rtmp,type:"rtmp/flv"},{src:this.state.one.hls,type:"application/x-mpegURL"}]},function(){this.on("loadedmetadata",function(){console.log("metadata is ready")}),this.on("canplay",function(){console.log("canplay"),this.play()})});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return l.a.createElement(n.Fragment,null,l.a.createElement(E.a,{onClick:this.handleClick,selectedKeys:[this.state.current],mode:"horizontal",theme:"dark"},l.a.createElement(E.a.Item,{key:"setting"},l.a.createElement(b.a,{content:"\u8bbe\u7f6e",placement:"bottom"},l.a.createElement(y.a,{type:"setting",onClick:this.showDrawer,style:{textAlign:"center",margin:"0px auto",color:"#FFFFFF"}}))),l.a.createElement(E.a.Item,null,l.a.createElement("span",{style:{textAlign:"center",margin:"0px auto"}},"4K\u73b0\u573a\u8282\u76ee\u5236\u4f5c\u65e0\u7ebf\u76d1\u770b\u7cfb\u7edf"))),l.a.createElement(s.a,{title:l.a.createElement(h.a,null,l.a.createElement(f.a,{span:2},l.a.createElement(y.a,{type:"setting"})),l.a.createElement(f.a,{span:4},l.a.createElement("b",null,"\u8bbe\u7f6e"))),placement:"left",onClose:this.onClose,visible:this.state.drawerVisible,width:290,bodyStyle:{padding:0}},l.a.createElement(m.a,{size:"small",footer:l.a.createElement("div",null,l.a.createElement("div",{style:{textAlign:"center",margin:"0px auto",alignItems:"center"}},l.a.createElement(b.a,{content:"\u6dfb\u52a0",placement:"bottom"},l.a.createElement(p.a,{className:"btn",onClick:function(){return e.setState({addVisible:!0})}},l.a.createElement(y.a,{type:"plus"})),l.a.createElement(u.a,{title:"\u6dfb\u52a0\u673a\u4f4d",footer:null,visible:this.state.addVisible,onCancel:function(){return e.setState({addVisible:!1})}},l.a.createElement(h.a,{type:"flex",justify:"center",align:"middle"},l.a.createElement(f.a,{xs:22,sm:12,md:12,lg:12,xl:12,xxl:12},l.a.createElement(N,{handleAdd:function(t){return e.handleAdd(t)}})))))),l.a.createElement(d.a,null)),dataSource:this.state.all,renderItem:function(t){return l.a.createElement(m.a.Item,null,l.a.createElement(m.a.Item.Meta,{title:l.a.createElement(h.a,null,l.a.createElement(f.a,{offset:1},l.a.createElement(b.a,{content:"\u4e32\u6d41\u7801\uff1a"+t.code,placement:"bottom"},l.a.createElement("span",{style:{color:"#00000060"}},t.name))),l.a.createElement(f.a,{offset:16},l.a.createElement(b.a,{content:"\u5207\u6362",placement:"bottom"},l.a.createElement(p.a,{className:"btn",onClick:function(){return e.handleSwitch(t)}},l.a.createElement(y.a,{type:"swap"}))),l.a.createElement(d.a,{type:"vertical"}),l.a.createElement(b.a,{content:"\u4fee\u6539",placement:"bottom"},l.a.createElement(p.a,{className:"btn",onClick:function(){return e.setState({editVisible:!0})}},l.a.createElement(y.a,{type:"edit"})),l.a.createElement(u.a,{title:"\u4fee\u6539\u673a\u4f4d",footer:null,visible:e.state.editVisible,onCancel:function(){return e.setState({editVisible:!1})}},l.a.createElement(h.a,{type:"flex",justify:"center",align:"middle"},l.a.createElement(f.a,{xs:22,sm:12,md:12,lg:12,xl:12,xxl:12},l.a.createElement(R,{data:t.id,handleEdit:function(t){return e.handleEdit(t)}}))))),l.a.createElement(d.a,{type:"vertical"}),l.a.createElement(b.a,{content:"\u5220\u9664",placement:"bottom"},l.a.createElement(p.a,{className:"btn",onClick:function(){return e.handleDel(t.id)}},l.a.createElement(y.a,{type:"delete"})))))}))}})),l.a.createElement(h.a,{type:"flex",justify:"center",align:"middle",style:{marginTop:10}},l.a.createElement(f.a,{xs:22,sm:16,md:16,lg:16,xl:16,xxl:16},l.a.createElement("video",{id:"player",className:"video-js vjs-big-play-centered"}),l.a.createElement("div",{style:{textAlign:"center",margin:"10px auto",fontSize:20}},l.a.createElement("span",null,"\u5f53\u524d\u9891\u9053\uff1a",this.state.now.name)))))}}]),t}(l.a.Component));var L=function(){return l.a.createElement(q,null)},M=function(){return l.a.createElement(o.a,null,l.a.createElement(i.a,null,l.a.createElement(c.a,{exact:!0,path:"/",component:L})))};Object(r.render)(l.a.createElement(M,null),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.ff14855b.chunk.js.map